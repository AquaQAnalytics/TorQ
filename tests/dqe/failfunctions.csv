action,ms,bytes,lang,code,repeat,minver,comment
before,0,0,q,testmeta:([c:`id`funct`vars`procs`procschk`starttime`endtime`output`descp`chkstatus]t:"jssssppsCs";f:10#`;a:10#`),1,,"Store meta of .dqe.results"
comment,0,0,,first check initial insert and teh table meta,1,,"comment"
before,0,0,q,".dqe.initstatusupd[7;`.dqe.test;`testing;`dqe,'`dqe1]",1,,"Set up id 7 for failunconnected test"
before,0,0,q,".dqe.initstatusupd[8;`.dqe.test;`testing;`dqe,'`dqe1]",1,,"Set up id 8 for failerror test"
true,0,0,q,all (7;8) in exec id from .dqe.results,1,,"Check correct id's added to the table"
true,0,0,q,all `.dqe.test in exec funct from .dqe.results,1,,"Check correct function's added to the table"
true,0,0,q,all `testing in exec vars from .dqe.results,1,,"Check correct varibles added to the table"
true,0,0,q,all `dqe in exec procs from .dqe.results,1,,"Check correct procs added to the table"
true,0,0,q,all `dqe1 in exec procschk from .dqe.results,1,,"Check correct chkprocs added to the table"
true,0,0,q,all all testmeta=meta .dqe.results,1,,"Test meta still same"
comment,0,0,,start of tests for failunconnected function,1,,"comment"
run,0,0,q,".dqe.failunconnected[7;`dqe]",1,,"Run failunconnected function with correct parameters"
true,0,0,q,all `0=exec output from .dqe.results where id=7,1,,,"Test output changed to false"
true,0,0,q,all (enlist "error:can't connect to process") in exec descp from .dqe.results where id=7,1,,"Test descp has been changed to error message"
true,0,0,q,all `failed=exec chkstatus from .dqe.results where id=7,1,,"Test status changed to failed"
comment,0,0,q,start of tests for failerror function,1,,"comment"
run,0,0,q,.dqe.failerror[8;`dqe1;"error:test error"],1,,"Run failerror function with correct parameters"
after,0,0,q,.dqe.results:0#.dqe.results,1,,"Empty .dqe.results table"
